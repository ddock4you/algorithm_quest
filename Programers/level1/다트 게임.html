<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>다트 게임</title>
    </head>
    <body>
        <script>
            // https://programmers.co.kr/learn/courses/30/lessons/17682

            const solution = (dartResult) => {
                let nums = [];
                let cnt = 0;
                for (let i = 0; i < dartResult.length; i += 1) {
                    let s = dartResult[i];
                    if (/\d/.test(s)) {
                        if (/\d/.test(dartResult[i - 1])) {
                            nums[cnt - 1] = 10;
                        } else {
                            nums.push(+s);
                            cnt += 1;
                        }
                    } else if (/[SDT]/.test(s)) {
                        nums[cnt - 1] = Math.pow(
                            nums[cnt - 1],
                            s === "D" ? 2 : s === "T" ? 3 : 1
                        );
                    } else {
                        if (s === "*") {
                            nums[cnt - 1] *= 2;
                            if (cnt > 1) {
                                nums[cnt - 2] *= 2;
                            }
                        } else {
                            nums[cnt - 1] *= -1;
                        }
                    }

                    // console.log(nums);
                }
                return nums.reduce((a, b) => a + b);
            };
            console.log(solution("1D1D*10T"));
        </script>
    </body>
</html>
